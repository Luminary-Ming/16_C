/*
    俄罗斯方块
*/

#include <stdio.h>
#include <stdlib.h>
#include <sys/types.h>
#include <unistd.h>

int main(void)
{
    // 4*4 组成图形, 4 种状态, 7 种图形
    int arr[7][4][4][4] = {
                        {
                            {
                                {0,0,0,0},
                                {0,0,0,0},
                                {0,0,0,0},
                                {1,1,1,1}
                            },
                            {
                                {0,0,0,1},
                                {0,0,0,1},
                                {0,0,0,1},
                                {0,0,0,1}
                            },
                            {
                                {0,0,0,0},
                                {0,0,0,0},
                                {0,0,0,0},
                                {1,1,1,1}
                            },
                            {
                                {0,0,0,1},
                                {0,0,0,1},
                                {0,0,0,1},
                                {0,0,0,1}
                            }
                        },
                        {
                            {
                                {0,0,0,0},
                                {0,0,0,0},
                                {0,1,0,0},
                                {0,1,1,1}
                            },
                            {
                                {0,0,0,0},
                                {0,0,1,1},
                                {0,0,1,0},
                                {0,0,1,0}
                            },
                            {
                                {0,0,0,0},
                                {0,0,0,0},
                                {0,1,1,1},
                                {0,0,0,1}
                            },
                            {
                                {0,0,0,0},
                                {0,0,0,1},
                                {0,0,0,1},
                                {0,0,1,1}
                            }
                        },
                        {
                            {
                                {0,0,0,0},
                                {0,0,0,0},
                                {0,0,1,0},
                                {0,1,1,1}
                            },
                            {
                                {0,0,0,0},
                                {0,0,1,0},
                                {0,0,1,1},
                                {0,0,1,0}
                            },
                            {
                                {0,0,0,0},
                                {0,0,0,0},
                                {0,1,1,1},
                                {0,0,1,0}
                            },
                            {
                                {0,0,0,0},
                                {0,0,0,1},
                                {0,0,1,1},
                                {0,0,0,1}
                            }
                        },
                        {
                            {
                                {0,0,0,0},
                                {0,0,0,0},
                                {0,0,0,1},
                                {0,1,1,1}
                            },
                            {
                                {0,0,0,0},
                                {0,0,1,0},
                                {0,0,1,0},
                                {0,0,1,1}
                            },
                            {
                                {0,0,0,0},
                                {0,0,0,0},
                                {0,1,1,1},
                                {0,1,0,0}
                            },
                            {
                                {0,0,0,0},
                                {0,0,1,1},
                                {0,0,0,1},
                                {0,0,0,1}
                            }
                        },
                        {
                            {
                                {0,0,0,0},
                                {0,0,0,0},
                                {0,1,1,0},
                                {0,0,1,1}
                            },
                            {
                                {0,0,0,0},
                                {0,0,0,1},
                                {0,0,1,1},
                                {0,0,1,0}
                            },
                            {
                                {0,0,0,0},
                                {0,0,0,0},
                                {0,1,1,0},
                                {0,0,1,1}
                            },
                            {
                                {0,0,0,0},
                                {0,0,0,1},
                                {0,0,1,1},
                                {0,0,1,0}
                            }
                        },
                        {
                            {
                                {0,0,0,0},
                                {0,0,0,0},
                                {0,0,1,1},
                                {0,0,1,1}
                            },
                            {
                                {0,0,0,0},
                                {0,0,0,0},
                                {0,0,1,1},
                                {0,0,1,1}
                            },
                            {
                                {0,0,0,0},
                                {0,0,0,0},
                                {0,0,1,1},
                                {0,0,1,1}
                            },
                            {
                                {0,0,0,0},
                                {0,0,0,0},
                                {0,0,1,1},
                                {0,0,1,1}
                            }
                        },
                        {
                            {
                                {0,0,0,0},
                                {0,0,0,0},
                                {0,0,1,1},
                                {0,1,1,0}
                            },
                            {
                                {0,0,0,0},
                                {0,0,1,0},
                                {0,0,1,1},
                                {0,0,0,1}
                            },
                            {
                                {0,0,0,0},
                                {0,0,0,0},
                                {0,0,1,1},
                                {0,1,1,0}
                            },
                            {
                                {0,0,0,0},
                                {0,0,1,0},
                                {0,0,1,1},
                                {0,0,0,1}
                            }
                        }
    };

    int a = 0, b = 0, i = 0, j = 0;

    srand(getpid());

    while (1)
    {
        a = rand() % 7;  // 7 种图形随机出现
        b = rand() % 4;  // 4 种状态随机出现
        system("clear");  // 清屏
        for (i = 0; i < 4; i++)
        {
            for (j = 0; j < 4; j++)
            {
                if (arr[a][b][i][j] == 1)
                    printf("[]");
                else
                    printf("  ");
            }
            printf("\n");
        }
        sleep(1);  // 休眠 1 s
    }

    return 0;
}